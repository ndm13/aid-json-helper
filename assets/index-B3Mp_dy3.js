var De=Object.defineProperty;var Ge=(e,t,n)=>t in e?De(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var he=(e,t,n)=>(Ge(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function ee(){}function Re(e){return e()}function Ee(){return Object.create(null)}function D(e){e.forEach(Re)}function Ie(e){return typeof e=="function"}function Ke(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function He(e){return Object.keys(e).length===0}function o(e,t){e.appendChild(t)}function P(e,t,n){e.insertBefore(t,n||null)}function A(e){e.parentNode&&e.parentNode.removeChild(e)}function _e(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function d(e){return document.createElement(e)}function R(e){return document.createTextNode(e)}function b(){return R(" ")}function Qe(){return R("")}function S(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function a(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Xe(e){return Array.from(e.childNodes)}function se(e,t){t=""+t,e.data!==t&&(e.data=t)}function F(e,t){e.value=t??""}function Le(e,t){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];l.selected=~t.indexOf(l.__value)}}function Ye(e){return[].map.call(e.querySelectorAll(":checked"),t=>t.__value)}function Se(e,t,n){e.classList.toggle(t,!!n)}let ye;function re(e){ye=e}const Y=[],Ne=[];let x=[];const je=[],Ze=Promise.resolve();let ge=!1;function xe(){ge||(ge=!0,Ze.then(Ve))}function te(e){x.push(e)}const pe=new Set;let X=0;function Ve(){if(X!==0)return;const e=ye;do{try{for(;X<Y.length;){const t=Y[X];X++,re(t),et(t.$$)}}catch(t){throw Y.length=0,X=0,t}for(re(null),Y.length=0,X=0;Ne.length;)Ne.pop()();for(let t=0;t<x.length;t+=1){const n=x[t];pe.has(n)||(pe.add(n),n())}x.length=0}while(Y.length);for(;je.length;)je.pop()();ge=!1,pe.clear(),re(e)}function et(e){if(e.fragment!==null){e.update(),D(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(te)}}function tt(e){const t=[],n=[];x.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),x=t}const ce=new Set;let z;function nt(){z={r:0,c:[],p:z}}function lt(){z.r||D(z.c),z=z.p}function oe(e,t){e&&e.i&&(ce.delete(e),e.i(t))}function me(e,t,n,l){if(e&&e.o){if(ce.has(e))return;ce.add(e),z.c.push(()=>{ce.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}function Z(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function it(e){e&&e.c()}function qe(e,t,n){const{fragment:l,after_update:i}=e.$$;l&&l.m(t,n),te(()=>{const r=e.$$.on_mount.map(Re).filter(Ie);e.$$.on_destroy?e.$$.on_destroy.push(...r):D(r),e.$$.on_mount=[]}),i.forEach(te)}function Je(e,t){const n=e.$$;n.fragment!==null&&(tt(n.after_update),D(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function rt(e,t){e.$$.dirty[0]===-1&&(Y.push(e),xe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Me(e,t,n,l,i,r,s=null,p=[-1]){const C=ye;re(e);const f=e.$$={fragment:null,ctx:[],props:r,update:ee,not_equal:i,bound:Ee(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(C?C.$$.context:[])),callbacks:Ee(),dirty:p,skip_bound:!1,root:t.target||C.$$.root};s&&s(f.root);let O=!1;if(f.ctx=n?n(e,t.props||{},(h,N,...k)=>{const j=k.length?k[0]:N;return f.ctx&&i(f.ctx[h],f.ctx[h]=j)&&(!f.skip_bound&&f.bound[h]&&f.bound[h](j),O&&rt(e,h)),N}):[],f.update(),O=!0,D(f.before_update),f.fragment=l?l(f.ctx):!1,t.target){if(t.hydrate){const h=Xe(t.target);f.fragment&&f.fragment.l(h),h.forEach(A)}else f.fragment&&f.fragment.c();t.intro&&oe(e.$$.fragment),qe(e,t.target,t.anchor),Ve()}re(C)}class We{constructor(){he(this,"$$");he(this,"$$set")}$destroy(){Je(this,1),this.$destroy=ee}$on(t,n){if(!Ie(n))return ee;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const i=l.indexOf(n);i!==-1&&l.splice(i,1)}}$set(t){this.$$set&&!He(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ot="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ot);function $e(e,t,n){const l=e.slice();return l[8]=t[n],l}function st(e){let t,n=Z(e[0].keys.split(",")),l=[];for(let i=0;i<n.length;i+=1)l[i]=Fe($e(e,n,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();t=Qe()},m(i,r){for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(i,r);P(i,t,r)},p(i,r){if(r&1){n=Z(i[0].keys.split(","));let s;for(s=0;s<n.length;s+=1){const p=$e(i,n,s);l[s]?l[s].p(p,r):(l[s]=Fe(p),l[s].c(),l[s].m(t.parentNode,t))}for(;s<l.length;s+=1)l[s].d(1);l.length=n.length}},d(i){i&&A(t),_e(l,i)}}}function ut(e){let t;return{c(){t=d("em"),t.textContent="No Keys!"},m(n,l){P(n,t,l)},p:ee,d(n){n&&A(t)}}}function ft(e){let t,n,l;return{c(){t=d("input"),a(t,"type","text")},m(i,r){P(i,t,r),F(t,e[0].keys),n||(l=S(t,"input",e[6]),n=!0)},p(i,r){r&1&&t.value!==i[0].keys&&F(t,i[0].keys)},d(i){i&&A(t),n=!1,l()}}}function Fe(e){let t,n=e[8]+"",l;return{c(){t=d("kbd"),l=R(n),a(t,"class","svelte-3telue")},m(i,r){P(i,t,r),o(t,l)},p(i,r){r&1&&n!==(n=i[8]+"")&&se(l,n)},d(i){i&&A(t)}}}function ct(e){let t,n,l,i,r,s,p,C,f,O,h,N,k,j,I,K,V,E=e[1]?"âœ”":"ðŸ–‰",v,g,$;function U(y,w){return y[1]?ft:y[0].keys.length===0?ut:st}let J=U(e),T=J(e);return{c(){t=d("section"),n=d("header"),l=d("button"),i=R("âœ¨"),s=b(),p=d("h3"),p.textContent="Placeholder Title",C=b(),f=d("span"),f.textContent="Placeholder Type",O=b(),h=d("textarea"),N=b(),k=d("div"),j=d("h4"),j.textContent="Keys:",I=b(),T.c(),K=b(),V=d("button"),v=R(E),a(l,"title",r="Use for Character Creator [currently "+e[0].useForCharacterCreation+"]"),a(l,"class","svelte-3telue"),Se(l,"is_cc",e[0].useForCharacterCreation),a(p,"contenteditable","true"),a(p,"class","title svelte-3telue"),e[0].title===void 0&&te(()=>e[3].call(p)),a(f,"contenteditable","true"),a(f,"class","type svelte-3telue"),e[0].type===void 0&&te(()=>e[4].call(f)),a(n,"class","svelte-3telue"),a(h,"class","value svelte-3telue"),a(j,"class","svelte-3telue"),a(k,"class","keys svelte-3telue"),a(t,"class","svelte-3telue")},m(y,w){P(y,t,w),o(t,n),o(n,l),o(l,i),o(n,s),o(n,p),e[0].title!==void 0&&(p.innerText=e[0].title),o(n,C),o(n,f),e[0].type!==void 0&&(f.innerText=e[0].type),o(t,O),o(t,h),F(h,e[0].value),o(t,N),o(t,k),o(k,j),o(k,I),T.m(k,null),o(k,K),o(k,V),o(V,v),g||($=[S(l,"click",e[2]),S(p,"input",e[3]),S(f,"input",e[4]),S(h,"input",e[5]),S(V,"click",e[7])],g=!0)},p(y,[w]){w&1&&r!==(r="Use for Character Creator [currently "+y[0].useForCharacterCreation+"]")&&a(l,"title",r),w&1&&Se(l,"is_cc",y[0].useForCharacterCreation),w&1&&y[0].title!==p.innerText&&(p.innerText=y[0].title),w&1&&y[0].type!==f.innerText&&(f.innerText=y[0].type),w&1&&F(h,y[0].value),J===(J=U(y))&&T?T.p(y,w):(T.d(1),T=J(y),T&&(T.c(),T.m(k,K))),w&2&&E!==(E=y[1]?"âœ”":"ðŸ–‰")&&se(v,E)},i:ee,o:ee,d(y){y&&A(t),T.d(),g=!1,D($)}}}function at(e,t,n){let{card:l}=t,i=!1;const r=()=>{n(0,l.useForCharacterCreation=!l.useForCharacterCreation,l)};function s(){l.title=this.innerText,n(0,l)}function p(){l.type=this.innerText,n(0,l)}function C(){l.value=this.value,n(0,l)}function f(){l.keys=this.value,n(0,l)}const O=()=>{n(1,i=!i)};return e.$$set=h=>{"card"in h&&n(0,l=h.card)},[l,i,r,s,p,C,f,O]}class dt extends We{constructor(t){super(),Me(this,t,at,ct,Ke,{card:0})}}function Ae(e,t,n){const l=e.slice();return l[17]=t[n],l}function Pe(e,t,n){const l=e.slice();return l[20]=t[n],l}function Ue(e){let t,n=e[20]+"",l,i;return{c(){t=d("option"),l=R(n),t.selected=!0,t.__value=i=e[20],F(t,t.__value)},m(r,s){P(r,t,s),o(t,l)},p(r,s){s&64&&n!==(n=r[20]+"")&&se(l,n),s&64&&i!==(i=r[20])&&(t.__value=i,F(t,t.__value))},d(r){r&&A(t)}}}function Be(e){let t,n;return t=new dt({props:{card:e[17]}}),{c(){it(t.$$.fragment)},m(l,i){qe(t,l,i),n=!0},p(l,i){const r={};i&128&&(r.card=l[17]),t.$set(r)},i(l){n||(oe(t.$$.fragment,l),n=!0)},o(l){me(t.$$.fragment,l),n=!1},d(l){Je(t,l)}}}function ht(e){let t,n,l,i,r,s,p,C,f,O,h,N=e[7].length+"",k,j,I=e[0].length+"",K,V,E,v,g,$,U,J,T,y,w,ve,ne,be,M,Ce,q,le,ke,B,we,ue,Oe,fe,ae,G,H,de,Te,Q=Z(e[6]),L=[];for(let u=0;u<Q.length;u+=1)L[u]=Ue(Pe(e,Q,u));let W=Z(e[7]),m=[];for(let u=0;u<W.length;u+=1)m[u]=Be(Ae(e,W,u));const ze=u=>me(m[u],1,1,()=>{m[u]=null});return{c(){t=d("header"),n=d("h2"),n.textContent="Story Card Viewer/Editor",l=b(),i=d("section"),r=d("input"),s=b(),p=d("button"),p.textContent="Save",C=b(),f=d("nav"),O=d("em"),h=R("Showing "),k=R(N),j=R(" entries out of "),K=R(I),V=b(),E=d("section"),v=d("fieldset"),g=d("label"),g.textContent="Title:",$=b(),U=d("input"),J=b(),T=d("label"),T.textContent="Value:",y=b(),w=d("input"),ve=b(),ne=d("label"),ne.textContent="Tags:",be=b(),M=d("input"),Ce=b(),q=d("fieldset"),le=d("label"),le.textContent="Type:",ke=b(),B=d("select");for(let u=0;u<L.length;u+=1)L[u].c();we=b(),ue=d("button"),ue.textContent="Clear Types",Oe=b(),fe=d("button"),fe.textContent="Clear Filters",ae=b(),G=d("main");for(let u=0;u<m.length;u+=1)m[u].c();a(r,"accept","application/json,text/json,.json"),a(r,"type","file"),a(i,"class","io svelte-dfafig"),a(t,"class","svelte-dfafig"),a(g,"for","title"),a(g,"class","svelte-dfafig"),a(U,"name","title"),a(T,"for","value"),a(T,"class","svelte-dfafig"),a(w,"name","value"),a(ne,"for","tags"),a(ne,"class","svelte-dfafig"),a(M,"name","tags"),a(v,"class","searchWithin svelte-dfafig"),a(le,"for","type"),a(le,"class","svelte-dfafig"),a(B,"name","type"),B.multiple=!0,e[1]===void 0&&te(()=>e[15].call(B)),a(q,"class","type svelte-dfafig"),a(E,"class","filter svelte-dfafig"),a(f,"class","svelte-dfafig"),a(G,"class","svelte-dfafig")},m(u,_){P(u,t,_),o(t,n),o(t,l),o(t,i),o(i,r),o(i,s),o(i,p),P(u,C,_),P(u,f,_),o(f,O),o(O,h),o(O,k),o(O,j),o(O,K),o(f,V),o(f,E),o(E,v),o(v,g),o(v,$),o(v,U),F(U,e[2]),o(v,J),o(v,T),o(v,y),o(v,w),F(w,e[3]),o(v,ve),o(v,ne),o(v,be),o(v,M),F(M,e[4]),o(E,Ce),o(E,q),o(q,le),o(q,ke),o(q,B);for(let c=0;c<L.length;c+=1)L[c]&&L[c].m(B,null);Le(B,e[1]),o(q,we),o(q,ue),o(E,Oe),o(E,fe),P(u,ae,_),P(u,G,_);for(let c=0;c<m.length;c+=1)m[c]&&m[c].m(G,null);H=!0,de||(Te=[S(r,"change",e[11]),S(r,"change",e[9]),S(p,"click",e[10]),S(U,"input",e[12]),S(w,"input",e[13]),S(M,"input",e[14]),S(B,"change",e[15]),S(ue,"click",e[16]),S(fe,"click",e[8])],de=!0)},p(u,[_]){if((!H||_&128)&&N!==(N=u[7].length+"")&&se(k,N),(!H||_&1)&&I!==(I=u[0].length+"")&&se(K,I),_&4&&U.value!==u[2]&&F(U,u[2]),_&8&&w.value!==u[3]&&F(w,u[3]),_&16&&M.value!==u[4]&&F(M,u[4]),_&64){Q=Z(u[6]);let c;for(c=0;c<Q.length;c+=1){const ie=Pe(u,Q,c);L[c]?L[c].p(ie,_):(L[c]=Ue(ie),L[c].c(),L[c].m(B,null))}for(;c<L.length;c+=1)L[c].d(1);L.length=Q.length}if(_&66&&Le(B,u[1]),_&128){W=Z(u[7]);let c;for(c=0;c<W.length;c+=1){const ie=Ae(u,W,c);m[c]?(m[c].p(ie,_),oe(m[c],1)):(m[c]=Be(ie),m[c].c(),oe(m[c],1),m[c].m(G,null))}for(nt(),c=W.length;c<m.length;c+=1)ze(c);lt()}},i(u){if(!H){for(let _=0;_<W.length;_+=1)oe(m[_]);H=!0}},o(u){m=m.filter(Boolean);for(let _=0;_<m.length;_+=1)me(m[_]);H=!1},d(u){u&&(A(t),A(C),A(f),A(ae),A(G)),_e(L,u),_e(m,u),de=!1,D(Te)}}}function pt(e,t,n){let l,i;const r=[];let s=[],p="",C="",f="";function O(){n(2,p=n(3,C=n(4,f=""))),n(1,s.length=0,s),s.push(...l)}let h;async function N(){h&&await h[0].text().then(g=>JSON.parse(g)).then(g=>{n(0,r.length=0,r),r.push(...g),n(6,l.length=0,l),l.push(...new Set(r.map($=>$.type))),O()})}function k(){const g=document.createElement("a"),$=URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"}));g.download=h?h[0].name:"cards.json",g.href=$,g.click(),URL.revokeObjectURL($)}function j(){h=this.files,n(5,h)}function I(){p=this.value,n(2,p)}function K(){C=this.value,n(3,C)}function V(){f=this.value,n(4,f)}function E(){s=Ye(this),n(1,s),n(6,l)}const v=()=>n(1,s.length=0,s);return e.$$.update=()=>{e.$$.dirty&31&&n(7,i=r.filter(g=>s.indexOf(g.type)>-1&&g.title.indexOf(p)>-1&&g.value.indexOf(C)>-1&&g.keys.split(",").filter($=>$.toLowerCase().indexOf(f)>-1).length>0))},n(6,l=[]),[r,s,p,C,f,h,l,i,O,N,k,j,I,K,V,E,v]}class _t extends We{constructor(t){super(),Me(this,t,pt,ht,Ke,{})}}new _t({target:document.getElementById("app")});
