var We=Object.defineProperty;var ze=(e,t,n)=>t in e?We(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var de=(e,t,n)=>(ze(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function x(){}function Pe(e){return e()}function Oe(){return Object.create(null)}function W(e){e.forEach(Pe)}function Ue(e){return typeof e=="function"}function Be(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function De(e){return Object.keys(e).length===0}function o(e,t){e.appendChild(t)}function F(e,t,n){e.insertBefore(t,n||null)}function q(e){e.parentNode&&e.parentNode.removeChild(e)}function pe(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function d(e){return document.createElement(e)}function U(e){return document.createTextNode(e)}function b(){return U(" ")}function Ge(){return U("")}function L(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function a(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function He(e){return Array.from(e.childNodes)}function se(e,t){t=""+t,e.data!==t&&(e.data=t)}function N(e,t){e.value=t??""}function je(e,t){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];l.selected=~t.indexOf(l.__value)}}function Qe(e){return[].map.call(e.querySelectorAll(":checked"),t=>t.__value)}function Te(e,t,n){e.classList.toggle(t,!!n)}let me;function ie(e){me=e}const X=[],Ee=[];let Z=[];const Le=[],Xe=Promise.resolve();let _e=!1;function Ye(){_e||(_e=!0,Xe.then(Re))}function ee(e){Z.push(e)}const he=new Set;let Q=0;function Re(){if(Q!==0)return;const e=me;do{try{for(;Q<X.length;){const t=X[Q];Q++,ie(t),Ze(t.$$)}}catch(t){throw X.length=0,Q=0,t}for(ie(null),X.length=0,Q=0;Ee.length;)Ee.pop()();for(let t=0;t<Z.length;t+=1){const n=Z[t];he.has(n)||(he.add(n),n())}Z.length=0}while(X.length);for(;Le.length;)Le.pop()();_e=!1,he.clear(),ie(e)}function Ze(e){if(e.fragment!==null){e.update(),W(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ee)}}function xe(e){const t=[],n=[];Z.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),Z=t}const fe=new Set;let M;function et(){M={r:0,c:[],p:M}}function tt(){M.r||W(M.c),M=M.p}function oe(e,t){e&&e.i&&(fe.delete(e),e.i(t))}function ge(e,t,n,l){if(e&&e.o){if(fe.has(e))return;fe.add(e),M.c.push(()=>{fe.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}function Y(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function nt(e){e&&e.c()}function Ie(e,t,n){const{fragment:l,after_update:r}=e.$$;l&&l.m(t,n),ee(()=>{const i=e.$$.on_mount.map(Pe).filter(Ue);e.$$.on_destroy?e.$$.on_destroy.push(...i):W(i),e.$$.on_mount=[]}),r.forEach(ee)}function Ke(e,t){const n=e.$$;n.fragment!==null&&(xe(n.after_update),W(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function lt(e,t){e.$$.dirty[0]===-1&&(X.push(e),Ye(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ve(e,t,n,l,r,i,u=null,_=[-1]){const v=me;ie(e);const f=e.$$={fragment:null,ctx:[],props:i,update:x,not_equal:r,bound:Oe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(v?v.$$.context:[])),callbacks:Oe(),dirty:_,skip_bound:!1,root:t.target||v.$$.root};u&&u(f.root);let w=!1;if(f.ctx=n?n(e,t.props||{},(p,S,...C)=>{const $=C.length?C[0]:S;return f.ctx&&r(f.ctx[p],f.ctx[p]=$)&&(!f.skip_bound&&f.bound[p]&&f.bound[p]($),w&&lt(e,p)),S}):[],f.update(),w=!0,W(f.before_update),f.fragment=l?l(f.ctx):!1,t.target){if(t.hydrate){const p=He(t.target);f.fragment&&f.fragment.l(p),p.forEach(q)}else f.fragment&&f.fragment.c();t.intro&&oe(e.$$.fragment),Ie(e,t.target,t.anchor),Re()}ie(v)}class Je{constructor(){de(this,"$$");de(this,"$$set")}$destroy(){Ke(this,1),this.$destroy=x}$on(t,n){if(!Ue(n))return x;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const r=l.indexOf(n);r!==-1&&l.splice(r,1)}}$set(t){this.$$set&&!De(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const rt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(rt);function Se(e,t,n){const l=e.slice();return l[8]=t[n],l}function it(e){let t,n=Y(e[0].keys.split(",")),l=[];for(let r=0;r<n.length;r+=1)l[r]=$e(Se(e,n,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();t=Ge()},m(r,i){for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(r,i);F(r,t,i)},p(r,i){if(i&1){n=Y(r[0].keys.split(","));let u;for(u=0;u<n.length;u+=1){const _=Se(r,n,u);l[u]?l[u].p(_,i):(l[u]=$e(_),l[u].c(),l[u].m(t.parentNode,t))}for(;u<l.length;u+=1)l[u].d(1);l.length=n.length}},d(r){r&&q(t),pe(l,r)}}}function ot(e){let t;return{c(){t=d("em"),t.textContent="No Keys!"},m(n,l){F(n,t,l)},p:x,d(n){n&&q(t)}}}function st(e){let t,n,l;return{c(){t=d("input"),a(t,"type","text")},m(r,i){F(r,t,i),N(t,e[0].keys),n||(l=L(t,"input",e[6]),n=!0)},p(r,i){i&1&&t.value!==r[0].keys&&N(t,r[0].keys)},d(r){r&&q(t),n=!1,l()}}}function $e(e){let t,n=e[8]+"",l;return{c(){t=d("kbd"),l=U(n),a(t,"class","svelte-aqruaj")},m(r,i){F(r,t,i),o(t,l)},p(r,i){i&1&&n!==(n=r[8]+"")&&se(l,n)},d(r){r&&q(t)}}}function ut(e){let t,n,l,r,i,u,_,v,f,w,p,S,C,$,B,R,I,T=e[1]?"âœ”":"ðŸ–‰",h,O,te;function A(y,k){return y[1]?st:y[0].keys.length===0?ot:it}let K=A(e),j=K(e);return{c(){t=d("section"),n=d("header"),l=d("button"),r=U("âœ¨"),u=b(),_=d("h3"),_.textContent="Placeholder Title",v=b(),f=d("span"),f.textContent="Placeholder Type",w=b(),p=d("textarea"),S=b(),C=d("div"),$=d("h4"),$.textContent="Keys:",B=b(),j.c(),R=b(),I=d("button"),h=U(T),a(l,"title",i="Use for Character Creator [currently "+e[0].useForCharacterCreation+"]"),a(l,"class","svelte-aqruaj"),Te(l,"is_cc",e[0].useForCharacterCreation),a(_,"contenteditable","true"),a(_,"class","title svelte-aqruaj"),e[0].title===void 0&&ee(()=>e[3].call(_)),a(f,"contenteditable","true"),a(f,"class","type svelte-aqruaj"),e[0].type===void 0&&ee(()=>e[4].call(f)),a(n,"class","svelte-aqruaj"),a(p,"class","value svelte-aqruaj"),a($,"class","svelte-aqruaj"),a(C,"class","keys svelte-aqruaj"),a(t,"class","svelte-aqruaj")},m(y,k){F(y,t,k),o(t,n),o(n,l),o(l,r),o(n,u),o(n,_),e[0].title!==void 0&&(_.innerText=e[0].title),o(n,v),o(n,f),e[0].type!==void 0&&(f.innerText=e[0].type),o(t,w),o(t,p),N(p,e[0].value),o(t,S),o(t,C),o(C,$),o(C,B),j.m(C,null),o(C,R),o(C,I),o(I,h),O||(te=[L(l,"click",e[2]),L(_,"input",e[3]),L(f,"input",e[4]),L(p,"input",e[5]),L(I,"click",e[7])],O=!0)},p(y,[k]){k&1&&i!==(i="Use for Character Creator [currently "+y[0].useForCharacterCreation+"]")&&a(l,"title",i),k&1&&Te(l,"is_cc",y[0].useForCharacterCreation),k&1&&y[0].title!==_.innerText&&(_.innerText=y[0].title),k&1&&y[0].type!==f.innerText&&(f.innerText=y[0].type),k&1&&N(p,y[0].value),K===(K=A(y))&&j?j.p(y,k):(j.d(1),j=K(y),j&&(j.c(),j.m(C,R))),k&2&&T!==(T=y[1]?"âœ”":"ðŸ–‰")&&se(h,T)},i:x,o:x,d(y){y&&q(t),j.d(),O=!1,W(te)}}}function ft(e,t,n){let{card:l}=t,r=!1;const i=()=>{n(0,l.useForCharacterCreation=!l.useForCharacterCreation,l)};function u(){l.title=this.innerText,n(0,l)}function _(){l.type=this.innerText,n(0,l)}function v(){l.value=this.value,n(0,l)}function f(){l.keys=this.value,n(0,l)}const w=()=>{n(1,r=!r)};return e.$$set=p=>{"card"in p&&n(0,l=p.card)},[l,r,i,u,_,v,f,w]}class ct extends Je{constructor(t){super(),Ve(this,t,ft,ut,Be,{card:0})}}function Ne(e,t,n){const l=e.slice();return l[16]=t[n],l}function qe(e,t,n){const l=e.slice();return l[19]=t[n],l}function Fe(e){let t,n=e[19]+"",l,r;return{c(){t=d("option"),l=U(n),t.selected=!0,t.__value=r=e[19],N(t,t.__value)},m(i,u){F(i,t,u),o(t,l)},p(i,u){u&64&&n!==(n=i[19]+"")&&se(l,n),u&64&&r!==(r=i[19])&&(t.__value=r,N(t,t.__value))},d(i){i&&q(t)}}}function Ae(e){let t,n;return t=new ct({props:{card:e[16]}}),{c(){nt(t.$$.fragment)},m(l,r){Ie(t,l,r),n=!0},p(l,r){const i={};r&128&&(i.card=l[16]),t.$set(i)},i(l){n||(oe(t.$$.fragment,l),n=!0)},o(l){ge(t.$$.fragment,l),n=!1},d(l){Ke(t,l)}}}function at(e){let t,n,l,r,i,u,_,v,f,w,p,S=e[7].length+"",C,$,B=e[0].length+"",R,I,T,h,O,te,A,K,j,y,k,ye,ne,ve,V,be,z,le,Ce,P,ke,ue,ce,D,G,ae,we,H=Y(e[6]),E=[];for(let s=0;s<H.length;s+=1)E[s]=Fe(qe(e,H,s));let J=Y(e[7]),m=[];for(let s=0;s<J.length;s+=1)m[s]=Ae(Ne(e,J,s));const Me=s=>ge(m[s],1,1,()=>{m[s]=null});return{c(){t=d("header"),n=d("h2"),n.textContent="Story Card Viewer/Editor",l=b(),r=d("section"),i=d("input"),u=b(),_=d("button"),_.textContent="Save",v=b(),f=d("nav"),w=d("em"),p=U("Showing "),C=U(S),$=U(" entries out of "),R=U(B),I=b(),T=d("section"),h=d("fieldset"),O=d("label"),O.textContent="Title:",te=b(),A=d("input"),K=b(),j=d("label"),j.textContent="Value:",y=b(),k=d("input"),ye=b(),ne=d("label"),ne.textContent="Tags:",ve=b(),V=d("input"),be=b(),z=d("fieldset"),le=d("label"),le.textContent="Type:",Ce=b(),P=d("select");for(let s=0;s<E.length;s+=1)E[s].c();ke=b(),ue=d("button"),ue.textContent="Clear Filters",ce=b(),D=d("main");for(let s=0;s<m.length;s+=1)m[s].c();a(i,"accept","application/json"),a(i,"type","file"),a(r,"class","io svelte-dfafig"),a(t,"class","svelte-dfafig"),a(O,"for","title"),a(O,"class","svelte-dfafig"),a(A,"name","title"),a(j,"for","value"),a(j,"class","svelte-dfafig"),a(k,"name","value"),a(ne,"for","tags"),a(ne,"class","svelte-dfafig"),a(V,"name","tags"),a(h,"class","searchWithin svelte-dfafig"),a(le,"for","type"),a(le,"class","svelte-dfafig"),a(P,"name","type"),P.multiple=!0,e[1]===void 0&&ee(()=>e[15].call(P)),a(z,"class","type svelte-dfafig"),a(T,"class","filter svelte-dfafig"),a(f,"class","svelte-dfafig"),a(D,"class","svelte-dfafig")},m(s,g){F(s,t,g),o(t,n),o(t,l),o(t,r),o(r,i),o(r,u),o(r,_),F(s,v,g),F(s,f,g),o(f,w),o(w,p),o(w,C),o(w,$),o(w,R),o(f,I),o(f,T),o(T,h),o(h,O),o(h,te),o(h,A),N(A,e[2]),o(h,K),o(h,j),o(h,y),o(h,k),N(k,e[3]),o(h,ye),o(h,ne),o(h,ve),o(h,V),N(V,e[4]),o(T,be),o(T,z),o(z,le),o(z,Ce),o(z,P);for(let c=0;c<E.length;c+=1)E[c]&&E[c].m(P,null);je(P,e[1]),o(T,ke),o(T,ue),F(s,ce,g),F(s,D,g);for(let c=0;c<m.length;c+=1)m[c]&&m[c].m(D,null);G=!0,ae||(we=[L(i,"change",e[11]),L(i,"change",e[9]),L(_,"click",e[10]),L(A,"input",e[12]),L(k,"input",e[13]),L(V,"input",e[14]),L(P,"change",e[15]),L(ue,"click",e[8])],ae=!0)},p(s,[g]){if((!G||g&128)&&S!==(S=s[7].length+"")&&se(C,S),(!G||g&1)&&B!==(B=s[0].length+"")&&se(R,B),g&4&&A.value!==s[2]&&N(A,s[2]),g&8&&k.value!==s[3]&&N(k,s[3]),g&16&&V.value!==s[4]&&N(V,s[4]),g&64){H=Y(s[6]);let c;for(c=0;c<H.length;c+=1){const re=qe(s,H,c);E[c]?E[c].p(re,g):(E[c]=Fe(re),E[c].c(),E[c].m(P,null))}for(;c<E.length;c+=1)E[c].d(1);E.length=H.length}if(g&66&&je(P,s[1]),g&128){J=Y(s[7]);let c;for(c=0;c<J.length;c+=1){const re=Ne(s,J,c);m[c]?(m[c].p(re,g),oe(m[c],1)):(m[c]=Ae(re),m[c].c(),oe(m[c],1),m[c].m(D,null))}for(et(),c=J.length;c<m.length;c+=1)Me(c);tt()}},i(s){if(!G){for(let g=0;g<J.length;g+=1)oe(m[g]);G=!0}},o(s){m=m.filter(Boolean);for(let g=0;g<m.length;g+=1)ge(m[g]);G=!1},d(s){s&&(q(t),q(v),q(f),q(ce),q(D)),pe(E,s),pe(m,s),ae=!1,W(we)}}}function dt(e,t,n){let l,r;const i=[];let u=[],_="",v="",f="";function w(){n(2,_=n(3,v=n(4,f=""))),n(1,u=l)}let p;async function S(){p&&await p[0].text().then(h=>JSON.parse(h)).then(h=>{n(0,i.length=0,i),i.push(...h),n(6,l.length=0,l),l.push(...new Set(i.map(O=>O.type))),w()})}function C(){const h=document.createElement("a"),O=URL.createObjectURL(new Blob([JSON.stringify(i)],{type:"application/json"}));h.download=p?p[0].name:"cards.json",h.href=O,h.click(),URL.revokeObjectURL(O)}function $(){p=this.files,n(5,p)}function B(){_=this.value,n(2,_)}function R(){v=this.value,n(3,v)}function I(){f=this.value,n(4,f)}function T(){u=Qe(this),n(1,u),n(6,l)}return e.$$.update=()=>{e.$$.dirty&31&&n(7,r=i.filter(h=>u.indexOf(h.type)>-1&&h.title.indexOf(_)>-1&&h.value.indexOf(v)>-1&&h.keys.split(",").filter(O=>O.toLowerCase().indexOf(f)>-1).length>0))},n(6,l=[]),[i,u,_,v,f,p,l,r,w,S,C,$,B,R,I,T]}class ht extends Je{constructor(t){super(),Ve(this,t,dt,at,Be,{})}}new ht({target:document.getElementById("app")});
