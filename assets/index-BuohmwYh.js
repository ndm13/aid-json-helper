var We=Object.defineProperty;var ze=(e,t,n)=>t in e?We(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var de=(e,t,n)=>(ze(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function x(){}function Pe(e){return e()}function Oe(){return Object.create(null)}function W(e){e.forEach(Pe)}function Ue(e){return typeof e=="function"}function Be(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function De(e){return Object.keys(e).length===0}function o(e,t){e.appendChild(t)}function F(e,t,n){e.insertBefore(t,n||null)}function j(e){e.parentNode&&e.parentNode.removeChild(e)}function pe(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function d(e){return document.createElement(e)}function U(e){return document.createTextNode(e)}function b(){return U(" ")}function Ge(){return U("")}function S(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function a(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function He(e){return Array.from(e.childNodes)}function se(e,t){t=""+t,e.data!==t&&(e.data=t)}function q(e,t){e.value=t??""}function Te(e,t){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];l.selected=~t.indexOf(l.__value)}}function Qe(e){return[].map.call(e.querySelectorAll(":checked"),t=>t.__value)}function Ee(e,t,n){e.classList.toggle(t,!!n)}let me;function re(e){me=e}const X=[],Le=[];let Z=[];const Se=[],Xe=Promise.resolve();let _e=!1;function Ye(){_e||(_e=!0,Xe.then(Re))}function ee(e){Z.push(e)}const he=new Set;let Q=0;function Re(){if(Q!==0)return;const e=me;do{try{for(;Q<X.length;){const t=X[Q];Q++,re(t),Ze(t.$$)}}catch(t){throw X.length=0,Q=0,t}for(re(null),X.length=0,Q=0;Le.length;)Le.pop()();for(let t=0;t<Z.length;t+=1){const n=Z[t];he.has(n)||(he.add(n),n())}Z.length=0}while(X.length);for(;Se.length;)Se.pop()();_e=!1,he.clear(),re(e)}function Ze(e){if(e.fragment!==null){e.update(),W(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ee)}}function xe(e){const t=[],n=[];Z.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),Z=t}const fe=new Set;let M;function et(){M={r:0,c:[],p:M}}function tt(){M.r||W(M.c),M=M.p}function oe(e,t){e&&e.i&&(fe.delete(e),e.i(t))}function ge(e,t,n,l){if(e&&e.o){if(fe.has(e))return;fe.add(e),M.c.push(()=>{fe.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}function Y(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function nt(e){e&&e.c()}function Ie(e,t,n){const{fragment:l,after_update:i}=e.$$;l&&l.m(t,n),ee(()=>{const r=e.$$.on_mount.map(Pe).filter(Ue);e.$$.on_destroy?e.$$.on_destroy.push(...r):W(r),e.$$.on_mount=[]}),i.forEach(ee)}function Ke(e,t){const n=e.$$;n.fragment!==null&&(xe(n.after_update),W(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function lt(e,t){e.$$.dirty[0]===-1&&(X.push(e),Ye(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ve(e,t,n,l,i,r,u=null,_=[-1]){const y=me;re(e);const f=e.$$={fragment:null,ctx:[],props:r,update:x,not_equal:i,bound:Oe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(y?y.$$.context:[])),callbacks:Oe(),dirty:_,skip_bound:!1,root:t.target||y.$$.root};u&&u(f.root);let w=!1;if(f.ctx=n?n(e,t.props||{},(p,$,...C)=>{const N=C.length?C[0]:$;return f.ctx&&i(f.ctx[p],f.ctx[p]=N)&&(!f.skip_bound&&f.bound[p]&&f.bound[p](N),w&&lt(e,p)),$}):[],f.update(),w=!0,W(f.before_update),f.fragment=l?l(f.ctx):!1,t.target){if(t.hydrate){const p=He(t.target);f.fragment&&f.fragment.l(p),p.forEach(j)}else f.fragment&&f.fragment.c();t.intro&&oe(e.$$.fragment),Ie(e,t.target,t.anchor),Re()}re(y)}class Je{constructor(){de(this,"$$");de(this,"$$set")}$destroy(){Ke(this,1),this.$destroy=x}$on(t,n){if(!Ue(n))return x;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const i=l.indexOf(n);i!==-1&&l.splice(i,1)}}$set(t){this.$$set&&!De(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const it="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(it);function $e(e,t,n){const l=e.slice();return l[8]=t[n],l}function rt(e){let t,n=Y(e[0].keys.split(",")),l=[];for(let i=0;i<n.length;i+=1)l[i]=Ne($e(e,n,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();t=Ge()},m(i,r){for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(i,r);F(i,t,r)},p(i,r){if(r&1){n=Y(i[0].keys.split(","));let u;for(u=0;u<n.length;u+=1){const _=$e(i,n,u);l[u]?l[u].p(_,r):(l[u]=Ne(_),l[u].c(),l[u].m(t.parentNode,t))}for(;u<l.length;u+=1)l[u].d(1);l.length=n.length}},d(i){i&&j(t),pe(l,i)}}}function ot(e){let t;return{c(){t=d("em"),t.textContent="No Keys!"},m(n,l){F(n,t,l)},p:x,d(n){n&&j(t)}}}function st(e){let t,n,l;return{c(){t=d("input"),a(t,"type","text")},m(i,r){F(i,t,r),q(t,e[0].keys),n||(l=S(t,"input",e[6]),n=!0)},p(i,r){r&1&&t.value!==i[0].keys&&q(t,i[0].keys)},d(i){i&&j(t),n=!1,l()}}}function Ne(e){let t,n=e[8]+"",l;return{c(){t=d("kbd"),l=U(n),a(t,"class","svelte-1iqtp6v")},m(i,r){F(i,t,r),o(t,l)},p(i,r){r&1&&n!==(n=i[8]+"")&&se(l,n)},d(i){i&&j(t)}}}function ut(e){let t,n,l,i,r,u,_,y,f,w,p,$,C,N,B,R,I,E=e[1]?"âœ”":"ðŸ–‰",h,O,te;function A(v,k){return v[1]?st:v[0].keys.length===0?ot:rt}let K=A(e),T=K(e);return{c(){t=d("section"),n=d("header"),l=d("button"),i=U("âœ¨"),u=b(),_=d("h3"),_.textContent="Placeholder Title",y=b(),f=d("span"),f.textContent="Placeholder Type",w=b(),p=d("textarea"),$=b(),C=d("div"),N=d("h4"),N.textContent="Keys:",B=b(),T.c(),R=b(),I=d("button"),h=U(E),a(l,"title",r="Use for Character Creator [currently "+e[0].useForCharacterCreation+"]"),a(l,"class","svelte-1iqtp6v"),Ee(l,"is_cc",e[0].useForCharacterCreation),a(_,"contenteditable","true"),a(_,"class","title svelte-1iqtp6v"),e[0].title===void 0&&ee(()=>e[3].call(_)),a(f,"contenteditable","true"),a(f,"class","type svelte-1iqtp6v"),e[0].type===void 0&&ee(()=>e[4].call(f)),a(n,"class","svelte-1iqtp6v"),a(p,"class","value svelte-1iqtp6v"),a(N,"class","svelte-1iqtp6v"),a(C,"class","keys svelte-1iqtp6v"),a(t,"class","svelte-1iqtp6v")},m(v,k){F(v,t,k),o(t,n),o(n,l),o(l,i),o(n,u),o(n,_),e[0].title!==void 0&&(_.innerText=e[0].title),o(n,y),o(n,f),e[0].type!==void 0&&(f.innerText=e[0].type),o(t,w),o(t,p),q(p,e[0].value),o(t,$),o(t,C),o(C,N),o(C,B),T.m(C,null),o(C,R),o(C,I),o(I,h),O||(te=[S(l,"click",e[2]),S(_,"input",e[3]),S(f,"input",e[4]),S(p,"input",e[5]),S(I,"click",e[7])],O=!0)},p(v,[k]){k&1&&r!==(r="Use for Character Creator [currently "+v[0].useForCharacterCreation+"]")&&a(l,"title",r),k&1&&Ee(l,"is_cc",v[0].useForCharacterCreation),k&1&&v[0].title!==_.innerText&&(_.innerText=v[0].title),k&1&&v[0].type!==f.innerText&&(f.innerText=v[0].type),k&1&&q(p,v[0].value),K===(K=A(v))&&T?T.p(v,k):(T.d(1),T=K(v),T&&(T.c(),T.m(C,R))),k&2&&E!==(E=v[1]?"âœ”":"ðŸ–‰")&&se(h,E)},i:x,o:x,d(v){v&&j(t),T.d(),O=!1,W(te)}}}function ft(e,t,n){let{card:l}=t,i=!1;const r=()=>{n(0,l.useForCharacterCreation=!l.useForCharacterCreation,l)};function u(){l.title=this.innerText,n(0,l)}function _(){l.type=this.innerText,n(0,l)}function y(){l.value=this.value,n(0,l)}function f(){l.keys=this.value,n(0,l)}const w=()=>{n(1,i=!i)};return e.$$set=p=>{"card"in p&&n(0,l=p.card)},[l,i,r,u,_,y,f,w]}class ct extends Je{constructor(t){super(),Ve(this,t,ft,ut,Be,{card:0})}}function qe(e,t,n){const l=e.slice();return l[16]=t[n],l}function je(e,t,n){const l=e.slice();return l[19]=t[n],l}function Fe(e){let t,n=e[19]+"",l,i;return{c(){t=d("option"),l=U(n),t.selected=!0,t.__value=i=e[19],q(t,t.__value)},m(r,u){F(r,t,u),o(t,l)},p(r,u){u&64&&n!==(n=r[19]+"")&&se(l,n),u&64&&i!==(i=r[19])&&(t.__value=i,q(t,t.__value))},d(r){r&&j(t)}}}function Ae(e){let t,n;return t=new ct({props:{card:e[16]}}),{c(){nt(t.$$.fragment)},m(l,i){Ie(t,l,i),n=!0},p(l,i){const r={};i&128&&(r.card=l[16]),t.$set(r)},i(l){n||(oe(t.$$.fragment,l),n=!0)},o(l){ge(t.$$.fragment,l),n=!1},d(l){Ke(t,l)}}}function at(e){let t,n,l,i,r,u,_,y,f,w,p,$=e[7].length+"",C,N,B=e[0].length+"",R,I,E,h,O,te,A,K,T,v,k,ve,ne,ye,V,be,z,le,Ce,P,ke,ue,ce,D,G,ae,we,H=Y(e[6]),L=[];for(let s=0;s<H.length;s+=1)L[s]=Fe(je(e,H,s));let J=Y(e[7]),m=[];for(let s=0;s<J.length;s+=1)m[s]=Ae(qe(e,J,s));const Me=s=>ge(m[s],1,1,()=>{m[s]=null});return{c(){t=d("header"),n=d("h2"),n.textContent="Story Card Viewer/Editor",l=b(),i=d("section"),r=d("input"),u=b(),_=d("button"),_.textContent="Save",y=b(),f=d("nav"),w=d("em"),p=U("Showing "),C=U($),N=U(" entries out of "),R=U(B),I=b(),E=d("section"),h=d("fieldset"),O=d("label"),O.textContent="Title:",te=b(),A=d("input"),K=b(),T=d("label"),T.textContent="Value:",v=b(),k=d("input"),ve=b(),ne=d("label"),ne.textContent="Tags:",ye=b(),V=d("input"),be=b(),z=d("fieldset"),le=d("label"),le.textContent="Type:",Ce=b(),P=d("select");for(let s=0;s<L.length;s+=1)L[s].c();ke=b(),ue=d("button"),ue.textContent="Clear Filters",ce=b(),D=d("main");for(let s=0;s<m.length;s+=1)m[s].c();a(r,"accept","application/json"),a(r,"type","file"),a(i,"class","io svelte-dfafig"),a(t,"class","svelte-dfafig"),a(O,"for","title"),a(O,"class","svelte-dfafig"),a(A,"name","title"),a(T,"for","value"),a(T,"class","svelte-dfafig"),a(k,"name","value"),a(ne,"for","tags"),a(ne,"class","svelte-dfafig"),a(V,"name","tags"),a(h,"class","searchWithin svelte-dfafig"),a(le,"for","type"),a(le,"class","svelte-dfafig"),a(P,"name","type"),P.multiple=!0,e[1]===void 0&&ee(()=>e[15].call(P)),a(z,"class","type svelte-dfafig"),a(E,"class","filter svelte-dfafig"),a(f,"class","svelte-dfafig"),a(D,"class","svelte-dfafig")},m(s,g){F(s,t,g),o(t,n),o(t,l),o(t,i),o(i,r),o(i,u),o(i,_),F(s,y,g),F(s,f,g),o(f,w),o(w,p),o(w,C),o(w,N),o(w,R),o(f,I),o(f,E),o(E,h),o(h,O),o(h,te),o(h,A),q(A,e[2]),o(h,K),o(h,T),o(h,v),o(h,k),q(k,e[3]),o(h,ve),o(h,ne),o(h,ye),o(h,V),q(V,e[4]),o(E,be),o(E,z),o(z,le),o(z,Ce),o(z,P);for(let c=0;c<L.length;c+=1)L[c]&&L[c].m(P,null);Te(P,e[1]),o(E,ke),o(E,ue),F(s,ce,g),F(s,D,g);for(let c=0;c<m.length;c+=1)m[c]&&m[c].m(D,null);G=!0,ae||(we=[S(r,"change",e[11]),S(r,"change",e[9]),S(_,"click",e[10]),S(A,"input",e[12]),S(k,"input",e[13]),S(V,"input",e[14]),S(P,"change",e[15]),S(ue,"click",e[8])],ae=!0)},p(s,[g]){if((!G||g&128)&&$!==($=s[7].length+"")&&se(C,$),(!G||g&1)&&B!==(B=s[0].length+"")&&se(R,B),g&4&&A.value!==s[2]&&q(A,s[2]),g&8&&k.value!==s[3]&&q(k,s[3]),g&16&&V.value!==s[4]&&q(V,s[4]),g&64){H=Y(s[6]);let c;for(c=0;c<H.length;c+=1){const ie=je(s,H,c);L[c]?L[c].p(ie,g):(L[c]=Fe(ie),L[c].c(),L[c].m(P,null))}for(;c<L.length;c+=1)L[c].d(1);L.length=H.length}if(g&66&&Te(P,s[1]),g&128){J=Y(s[7]);let c;for(c=0;c<J.length;c+=1){const ie=qe(s,J,c);m[c]?(m[c].p(ie,g),oe(m[c],1)):(m[c]=Ae(ie),m[c].c(),oe(m[c],1),m[c].m(D,null))}for(et(),c=J.length;c<m.length;c+=1)Me(c);tt()}},i(s){if(!G){for(let g=0;g<J.length;g+=1)oe(m[g]);G=!0}},o(s){m=m.filter(Boolean);for(let g=0;g<m.length;g+=1)ge(m[g]);G=!1},d(s){s&&(j(t),j(y),j(f),j(ce),j(D)),pe(L,s),pe(m,s),ae=!1,W(we)}}}function dt(e,t,n){let l,i;const r=[];let u=[],_="",y="",f="";function w(){n(2,_=n(3,y=n(4,f=""))),n(1,u=l)}let p;async function $(){p&&await p[0].text().then(h=>JSON.parse(h)).then(h=>{n(0,r.length=0,r),r.push(...h),n(6,l.length=0,l),l.push(...new Set(r.map(O=>O.type))),w()})}function C(){const h=document.createElement("a"),O=URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"}));h.download=p?p[0].name:"cards.json",h.href=O,h.click(),URL.revokeObjectURL(O)}function N(){p=this.files,n(5,p)}function B(){_=this.value,n(2,_)}function R(){y=this.value,n(3,y)}function I(){f=this.value,n(4,f)}function E(){u=Qe(this),n(1,u),n(6,l)}return e.$$.update=()=>{e.$$.dirty&31&&n(7,i=r.filter(h=>u.indexOf(h.type)>-1&&h.title.indexOf(_)>-1&&h.value.indexOf(y)>-1&&h.keys.split(",").filter(O=>O.toLowerCase().indexOf(f)>-1).length>0))},n(6,l=[]),[r,u,_,y,f,p,l,i,w,$,C,N,B,R,I,E]}class ht extends Je{constructor(t){super(),Ve(this,t,dt,at,Be,{})}}new ht({target:document.getElementById("app")});
